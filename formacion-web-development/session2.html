<!DOCTYPE html>
<html lang="es">
  <head>
    <!-- El head se inyecta autom√°ticamente desde script.js -->
    <link rel="stylesheet" href="../index.css" />
    <link rel="stylesheet" href="../slide-styles.css" />
    <style>
      /* Custom styles para esta sesi√≥n - colores morados */
    </style>
  </head>
  <body>
    <div id="slides-container">
      <!-- Slide 1: Portada -->
      <section class="slide slide-cover active">
        <div class="step visible">
          <h1 class="slide-title">üõ†Ô∏è SESI√ìN 2</h1>
        </div>
        <div class="step">
          <p class="subtitle">Funciones y scope</p>
        </div>
      </section>

      <!-- Slide 2: ¬øQu√© es una funci√≥n? -->
      <section class="slide slide-code">
        <h2 class="slide-title">üéØ ¬øQu√© es una funci√≥n?</h2>
        <div class="step">
          <div class="explanation">
            <strong>Definici√≥n simple:</strong> Una "receta" que puedes
            reutilizar
          </div>
        </div>
        <div class="step">
          <pre>
// Sin funci√≥n (repetitivo)
const precio1ConIVA = 100 * 1.21;
const precio2ConIVA = 50 * 1.21;
const precio3ConIVA = 200 * 1.21;

// Con funci√≥n (reutilizable)
function calcularConIVA(precio) {
  return precio * 1.21;
}

const precio1ConIVA = calcularConIVA(100);
const precio2ConIVA = calcularConIVA(50);
const precio3ConIVA = calcularConIVA(200);</pre
          >
        </div>
      </section>

      <!-- Slide 3: Anatom√≠a de una funci√≥n -->
      <section class="slide slide-code">
        <h2 class="slide-title">üî¨ Anatom√≠a de una funci√≥n</h2>
        <div class="step">
          <pre>
function nombreFuncion(parametro1, parametro2) {
  // C√≥digo que hace cosas
  const resultado = parametro1 + parametro2;
  return resultado;
}

// Usar la funci√≥n
const suma = nombreFuncion(5, 3); // suma = 8</pre
          >
        </div>
        <div class="step">
          <div class="explanation">
            <strong>Partes:</strong><br />
            ‚Ä¢ <code>function</code> = palabra clave<br />
            ‚Ä¢ <code>nombreFuncion</code> = nombre descriptivo<br />
            ‚Ä¢ <code>(parametros)</code> = datos que recibe<br />
            ‚Ä¢ <code>return</code> = resultado que devuelve
          </div>
        </div>
      </section>

      <!-- Slide 4: Funciones flecha -->
      <section class="slide slide-code">
        <h2 class="slide-title">‚û°Ô∏è Funciones flecha (arrow functions)</h2>
        <div class="step">
          <pre>
// Funci√≥n tradicional
function sumar(a, b) {
  return a + b;
}

// Funci√≥n flecha (moderna)
const sumar = (a, b) => {
  return a + b;
};

// Funci√≥n flecha corta (sin llaves ni return)
const sumar = (a, b) => a + b;

// Si solo hay 1 par√°metro, puedes omitir par√©ntesis
const duplicar = x => x * 2;</pre
          >
        </div>
        <div class="step">
          <div class="explanation">
            <strong>En n8n:</strong> Ver√°s mucho las funciones flecha en
            ejemplos
          </div>
        </div>
      </section>

      <!-- Slide 5: Comparaci√≥n de estilos -->
      <section class="slide slide-table">
        <h2 class="slide-title">üìä Comparaci√≥n de estilos</h2>
        <div class="step">
          <table>
            <thead>
              <tr>
                <th>Tradicional</th>
                <th>Flecha</th>
                <th>Flecha corta</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td><code>function suma(a,b) { return a+b; }</code></td>
                <td><code>const suma = (a,b) => { return a+b; }</code></td>
                <td><code>const suma = (a,b) => a+b;</code></td>
              </tr>
            </tbody>
          </table>
        </div>
        <div class="step">
          <div style="margin-top: 30px; font-size: 1.3em">
            <strong>¬øCu√°l usar?</strong><br />
            ‚Ä¢ Ambas funcionan igual en n8n<br />
            ‚Ä¢ Flecha corta es m√°s legible para funciones simples<br />
            ‚Ä¢ Tradicional es m√°s clara si eres principiante
          </div>
        </div>
      </section>

      <!-- Slide 6: Par√°metros con valores por defecto -->
      <section class="slide slide-code">
        <h2 class="slide-title">üéõÔ∏è Par√°metros y valores por defecto</h2>
        <div class="step">
          <pre>
// Sin valor por defecto
const saludar = (nombre) => {
  return `Hola ${nombre}`;
};
saludar(); // "Hola undefined" ‚ùå

// Con valor por defecto
const saludar = (nombre = "Usuario") => {
  return `Hola ${nombre}`;
};
saludar();           // "Hola Usuario" ‚úÖ
saludar("Mar√≠a");    // "Hola Mar√≠a" ‚úÖ</pre
          >
        </div>
      </section>

      <!-- Slide 7: M√∫ltiples par√°metros -->
      <section class="slide slide-code">
        <h2 class="slide-title">üî¢ M√∫ltiples par√°metros</h2>
        <div class="step">
          <pre>
// Calcular precio final con descuento e IVA
const calcularPrecioFinal = (precioBase, descuento, iva) => {
  const conDescuento = precioBase - descuento;
  const conIVA = conDescuento * (1 + iva);
  return conIVA;
};

const precioFinal = calcularPrecioFinal(100, 20, 0.21);
// 100 - 20 = 80
// 80 * 1.21 = 96.8</pre
          >
        </div>
      </section>

      <!-- Slide 8: Return m√∫ltiple -->
      <section class="slide slide-code">
        <h2 class="slide-title">üì¶ Return m√∫ltiple (objeto)</h2>
        <div class="step">
          <pre>
// Devolver varios valores
const analizarPedido = (total) => {
  const iva = total * 0.21;
  const sinIVA = total - iva;
  
  return {
    total: total,
    iva: iva,
    sinIVA: sinIVA
  };
};

const resultado = analizarPedido(121);
// { total: 121, iva: 25.41, sinIVA: 95.59 }</pre
          >
        </div>
      </section>

      <!-- Slide 9: Scope -->
      <section class="slide slide-code">
        <h2 class="slide-title">üéØ Scope (alcance de variables)</h2>
        <div class="step">
          <pre>
const global = "Soy global"; // ‚úÖ Accesible en todas partes

function miFuncion() {
  const local = "Soy local"; // ‚úÖ Solo existe aqu√≠ dentro
  console.log(global);  // ‚úÖ Funciona
  console.log(local);   // ‚úÖ Funciona
}

console.log(global);    // ‚úÖ Funciona
console.log(local);     // ‚ùå ERROR: local no existe aqu√≠</pre
          >
        </div>
        <div class="step">
          <div class="explanation">
            <strong>Regla:</strong> Las variables declaradas dentro de una
            funci√≥n solo existen ah√≠
          </div>
        </div>
      </section>

      <!-- Slide 10: Funciones como par√°metros -->
      <section class="slide slide-code">
        <h2 class="slide-title">üé≠ Funciones como par√°metros</h2>
        <div class="step">
          <pre>
// Funci√≥n que recibe otra funci√≥n
const aplicarOperacion = (numero, operacion) => {
  return operacion(numero);
};

const duplicar = x => x * 2;
const triplicar = x => x * 3;

console.log(aplicarOperacion(5, duplicar));   // 10
console.log(aplicarOperacion(5, triplicar));  // 15</pre
          >
        </div>
        <div class="step">
          <div class="explanation">
            <strong>Preview:</strong> Esto es la base de <code>.map()</code>,
            <code>.filter()</code> (pr√≥xima sesi√≥n)
          </div>
        </div>
      </section>

      <!-- Slide 11: Resumen -->
      <section class="slide slide-summary">
        <h2 class="slide-title">üìù Resumen Sesi√≥n 2</h2>
        <div class="step">
          <div class="summary-box">
            <h3>Has aprendido:</h3>
            <ul>
              <li>Crear funciones (tradicionales y flecha)</li>
              <li>Par√°metros y return</li>
              <li>Scope (alcance de variables)</li>
              <li>Reutilizar c√≥digo eficientemente</li>
              <li>Closures y funciones como par√°metros</li>
            </ul>
            <p style="margin-top: 30px; font-size: 1.2em">
              <strong>Pr√≥xima sesi√≥n:</strong> Arrays y objetos a fondo (map,
              filter, reduce) üöÄ
            </p>
          </div>
        </div>
      </section>
    </div>

    <script src="../script.js"></script>
  </body>
</html>
